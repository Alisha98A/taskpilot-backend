(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{126:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(32),r=a.n(s),i=(a(96),a(17)),o=a(86),l=a(33),u=a.n(l),d=a(9),j=a(11),b=a(142),O=a(143),p=a(15),m=a.n(p),h=a(10),x=a(8),f=a(53),v=a.n(f),g="https://taskpilot-backend-6ee557f05c5b.herokuapp.com",k=v.a.create({baseURL:g,headers:{"Content-Type":"application/json"},withCredentials:!0}),N=v.a.create({baseURL:g,headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),y=a(2),_=Object(n.createContext)(),S=Object(n.createContext)(),w=function(){return Object(n.useContext)(_)},C=function(){return Object(n.useContext)(S)},T=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(x.a)(a,2),s=c[0],r=c[1],o=Object(i.g)();return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/dj-rest-auth/user/");case 3:t=e.sent,a=t.data,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){var e=k.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),t=N.interceptors.response.use((function(e){return e}),(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(r(null),o.push("/signin")),Promise.reject(e)}));return function(){k.interceptors.request.eject(e),N.interceptors.response.eject(t)}}),[o]),Object(y.jsx)(_.Provider,{value:s,children:Object(y.jsx)(S.Provider,{value:r,children:t})})},D=function(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){s.current&&!s.current.contains(e.target)&&c(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[s]),{expanded:a,setExpanded:c,ref:s}},L=function(){var e=w(),t=C(),a=D(),n=a.expanded,c=a.setExpanded,s=a.ref,r=Object(i.g)(),l=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/dj-rest-auth/logout/");case 3:t(null),r.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=e&&Object(y.jsxs)(h.c,{to:"/tasks/create",className:function(e){return e.isActive?"".concat(m.a.navLink," ").concat(m.a.Active):m.a.navLink},children:[Object(y.jsx)("i",{className:"far fa-plus-square"})," New Task"]}),p=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(h.c,{to:"/tasks",className:function(e){return e.isActive?"".concat(m.a.navLink," ").concat(m.a.Active):m.a.navLink},children:[Object(y.jsx)("i",{className:"fas fa-tasks"})," My Tasks"]}),Object(y.jsxs)(h.c,{to:"/notes",className:function(e){return e.isActive?"".concat(m.a.navLink," ").concat(m.a.Active):m.a.navLink},children:[Object(y.jsx)("i",{className:"fas fa-sticky-note"})," Notes"]}),Object(y.jsxs)("span",{onClick:l,className:m.a.navLink,role:"button",children:[Object(y.jsx)("i",{className:"fas fa-sign-out-alt"})," Sign out"]})]}),x=Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(h.c,{to:"/signin",className:function(e){return e.isActive?"".concat(m.a.navLink," ").concat(m.a.Active):m.a.navLink},children:[Object(y.jsx)("i",{className:"fas fa-sign-in-alt"})," Sign in"]}),Object(y.jsxs)(h.c,{to:"/signup",className:function(e){return e.isActive?"".concat(m.a.navLink," ").concat(m.a.Active):m.a.navLink},children:[Object(y.jsx)("i",{className:"fas fa-user-plus"})," Sign up"]})]});return Object(y.jsx)(b.a,{expanded:n,className:m.a.NavBar,expand:"md",fixed:"top",children:Object(y.jsxs)(o.a,{children:[Object(y.jsx)(h.c,{to:"/",className:m.a.navLink,children:Object(y.jsxs)(b.a.Brand,{className:m.a.brand,children:[Object(y.jsx)("img",{src:"/favicon_io/logo.png",alt:"logo",height:"45"}),Object(y.jsx)("span",{className:m.a.brandText,children:"TaskPilot"})]})}),u,Object(y.jsx)(b.a.Toggle,{ref:s,onClick:function(){return c(!n)},"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(O.a,{className:"ml-auto text-left",children:[Object(y.jsxs)(h.c,{to:"/",className:function(e){return e.isActive?"".concat(m.a.navLink," ").concat(m.a.Active):m.a.navLink},children:[Object(y.jsx)("i",{className:"fas fa-home"})," Home"]}),e?p:x]})})]})})},I=a(12),B=a(87),F=["component"];var A=function(e){var t=e.component,a=Object(B.a)(e,F),n=w();return Object(y.jsx)(i.b,Object(I.a)(Object(I.a)({},a),{},{render:function(e){return n?Object(y.jsx)(t,Object(I.a)({},e)):Object(y.jsx)(i.a,{to:"/signin"})}}))},E=a(133),M=a(88),P=a(144),G=a(89),W=a(71);a(126);var U=function(){return Object(y.jsx)("div",{className:"welcome-hero",children:Object(y.jsx)(o.a,{className:"welcome-container",fluid:"sm",children:Object(y.jsx)(E.a,{className:"justify-content-center",children:Object(y.jsx)(M.a,{md:10,lg:8,children:Object(y.jsx)(P.a,{className:"text-center shadow-lg border-0 welcome-card",children:Object(y.jsxs)(P.a.Body,{children:[Object(y.jsxs)(P.a.Title,{as:"h1",className:"fw-bold",children:["Welcome to ",Object(y.jsx)("span",{className:"text-primary",children:"TaskPilot"})]}),Object(y.jsx)(P.a.Subtitle,{className:"mb-3 text-muted",children:"Chart your course. Navigate your goals."}),Object(y.jsxs)("div",{className:"icon-row d-flex justify-content-center",children:[Object(y.jsx)(W.c,{size:40,className:"text-success mr-3"}),Object(y.jsx)(W.a,{size:40,className:"text-warning mr-3"}),Object(y.jsx)(W.b,{size:40,className:"text-primary"})]}),Object(y.jsxs)(P.a.Text,{className:"mb-4",children:["Your productivity co-pilot is here."," ",Object(y.jsx)("span",{className:"text-primary fw-bold",children:"TaskPilot"})," makes it easy to plan, prioritize, and complete your tasks with confidence. Whether you're tackling daily to-dos or long-term goals, we're here to help you stay organized\u2014every step of the way."]}),Object(y.jsxs)("div",{className:"button-group",children:[Object(y.jsx)(h.b,{to:"/signup",children:Object(y.jsx)(G.a,{variant:"success",size:"lg",children:"Get Started"})}),Object(y.jsx)(h.b,{to:"/signin",children:Object(y.jsx)(G.a,{variant:"outline-primary",size:"lg",children:"Sign In"})})]})]})})})})})})},z=a(72),H=a(22),R=a.n(H);var q=function(){var e=Object(n.useState)(0),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(0),r=Object(x.a)(s,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){var t,a,n,s,r,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/api/tasks/");case 3:return r=e.sent,c(Array.isArray(r.data)?r.data.length:null!==(t=null===(a=r.data.results)||void 0===a?void 0:a.length)&&void 0!==t?t:0),e.next=7,k.get("/api/notes/");case 7:i=e.sent,o(Array.isArray(i.data)?i.data.length:null!==(n=null===(s=i.data.results)||void 0===s?void 0:s.length)&&void 0!==n?n:0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Failed to fetch dashboard data:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(y.jsxs)("main",{className:R.a.dashboardWrapper,children:[Object(y.jsxs)("header",{className:R.a.dashboardHeader,children:[Object(y.jsx)("h1",{className:R.a.title,children:"Dashboard Overview"}),Object(y.jsx)("p",{className:R.a.subtitle,children:"View your productivity insights and quickly jump into tasks or notes."})]}),Object(y.jsxs)("section",{className:R.a.statsSection,children:[Object(y.jsxs)(h.b,{to:"/tasks",className:R.a.statCard,children:[Object(y.jsx)("div",{className:R.a.icon,children:Object(y.jsx)(z.a,{size:32})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Tasks"}),Object(y.jsxs)("p",{children:[a," Task",1!==a?"s":""]})]})]}),Object(y.jsxs)(h.b,{to:"/notes",className:R.a.statCard,children:[Object(y.jsx)("div",{className:R.a.icon,children:Object(y.jsx)(z.c,{size:32})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Notes"}),Object(y.jsxs)("p",{children:[i," Note",1!==i?"s":""]})]})]}),Object(y.jsxs)(h.b,{to:"/contact",className:R.a.statCard,children:[Object(y.jsx)("div",{className:R.a.icon,children:Object(y.jsx)(z.b,{size:32})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Contact Us"}),Object(y.jsx)("p",{children:"Need help? Reach out"})]})]})]}),Object(y.jsxs)("section",{className:R.a.actionsPanel,children:[Object(y.jsx)("h3",{children:"Quick Actions"}),Object(y.jsxs)("div",{className:R.a.buttonGroup,children:[Object(y.jsx)(h.b,{to:"/tasks/create",className:R.a.primaryBtn,children:"+ Create Task"}),Object(y.jsx)(h.b,{to:"/notes/create",className:R.a.secondaryBtn,children:"+ Add Note"})]})]})]})},K=a(24),Y=a(141),Z=a(134),V=a(135),J=a(21),Q=a.n(J),X=a(42),$=a.n(X),ee=function(){var e,t,a,c,s,r=Object(n.useState)({username:"",email:"",password1:"",password2:""}),l=Object(x.a)(r,2),b=l[0],O=l[1],p=b.username,m=b.email,f=b.password1,v=b.password2,g=Object(n.useState)({}),N=Object(x.a)(g,2),_=N[0],S=N[1],w=Object(i.g)(),C=function(e){O(Object(I.a)(Object(I.a)({},b),{},Object(K.a)({},e.target.name,e.target.value)))},T=function(){var e=Object(j.a)(Object(d.a)().mark((function e(t){var a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.post("/api/dj-rest-auth/registration/",b);case 4:w.push("/signin"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),S((null===(a=e.t0.response)||void 0===a?void 0:a.data)||{});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(E.a,{className:Q.a.Row,children:[Object(y.jsxs)(M.a,{className:"my-auto py-4 px-3 px-md-5",md:6,children:[Object(y.jsxs)(o.a,{className:"".concat(u.a.Content," p-4"),children:[Object(y.jsx)("h1",{className:"".concat(Q.a.Header," text-uppercase text-center"),children:"Create your TaskPilot account"}),Object(y.jsx)("p",{className:"text-muted text-center mb-4",style:{fontSize:"0.95rem"},children:"One step closer to mastering your tasks."}),Object(y.jsxs)(Y.a,{onSubmit:T,children:[Object(y.jsxs)(Y.a.Group,{controlId:"username",children:[Object(y.jsx)(Y.a.Label,{className:"sr-only",children:"Username"}),Object(y.jsx)(Y.a.Control,{className:Q.a.Input,type:"text",placeholder:"Choose a username",name:"username",value:p,onChange:C})]}),null===(e=_.username)||void 0===e?void 0:e.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),Object(y.jsxs)(Y.a.Group,{controlId:"email",children:[Object(y.jsx)(Y.a.Label,{className:"sr-only",children:"Email address"}),Object(y.jsx)(Y.a.Control,{className:Q.a.Input,type:"email",placeholder:"Enter your email",name:"email",value:m,onChange:C})]}),null===(t=_.email)||void 0===t?void 0:t.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),Object(y.jsxs)(Y.a.Group,{controlId:"password1",children:[Object(y.jsx)(Y.a.Label,{className:"sr-only",children:"Password"}),Object(y.jsx)(Y.a.Control,{className:Q.a.Input,type:"password",placeholder:"Create a password",name:"password1",value:f,onChange:C})]}),null===(a=_.password1)||void 0===a?void 0:a.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),Object(y.jsxs)(Y.a.Group,{controlId:"password2",children:[Object(y.jsx)(Y.a.Label,{className:"sr-only",children:"Confirm Password"}),Object(y.jsx)(Y.a.Control,{className:Q.a.Input,type:"password",placeholder:"Confirm your password",name:"password2",value:v,onChange:C})]}),null===(c=_.password2)||void 0===c?void 0:c.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),null===(s=_.non_field_errors)||void 0===s?void 0:s.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),Object(y.jsx)(G.a,{className:"".concat($.a.Button," ").concat($.a.Wide," ").concat($.a.Bright," fs-5"),type:"submit",children:"Sign Up"})]})]}),Object(y.jsx)(o.a,{className:"mt-3 ".concat(u.a.Content," text-center"),children:Object(y.jsxs)(h.b,{className:Q.a.Link,to:"/signin",children:["Already have an account? ",Object(y.jsx)("span",{children:"Sign in here!"})]})})]}),Object(y.jsx)(M.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(Q.a.SignUpCol),children:Object(y.jsx)(V.a,{className:u.a.FillerImage,src:"https://images.unsplash.com/photo-1554415707-6e8cfc93fe23?fit=crop&w=900&q=80",alt:"Organized desk with productivity tools"})})]})};var te=function(){var e,t,a,c=C(),s=Object(n.useState)({username:"",password:""}),r=Object(x.a)(s,2),l=r[0],b=r[1],O=l.username,p=l.password,m=Object(n.useState)({}),f=Object(x.a)(m,2),v=f[0],g=f[1],N=Object(n.useState)(""),_=Object(x.a)(N,2),S=_[0],w=_[1],T=Object(i.g)(),D=function(e){b(Object(I.a)(Object(I.a)({},l),{},Object(K.a)({},e.target.name,e.target.value)))},L=function(){var e=Object(j.a)(Object(d.a)().mark((function e(t){var a,n,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k.post("/api/dj-rest-auth/login/",l);case 4:a=e.sent,n=a.data,c(n.user),w("Login successful! Redirecting..."),g({}),setTimeout((function(){T.push("/")}),1500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),g((null===(s=e.t0.response)||void 0===s?void 0:s.data)||{}),w("");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(E.a,{className:Q.a.Row,children:[Object(y.jsxs)(M.a,{className:"my-auto p-0 p-md-2",md:6,children:[Object(y.jsxs)(o.a,{className:"".concat(u.a.Content," p-4"),children:[Object(y.jsx)("h1",{className:"".concat(Q.a.Header," text-uppercase text-center"),children:"Welcome back"}),Object(y.jsx)("p",{className:"text-muted text-center mb-4",style:{fontSize:"0.95rem"},children:"Log in and start organizing your day!"}),S&&Object(y.jsx)(Z.a,{variant:"success",className:"text-center",children:S}),Object(y.jsxs)(Y.a,{onSubmit:L,children:[Object(y.jsxs)(Y.a.Group,{controlId:"username",children:[Object(y.jsx)(Y.a.Label,{className:"sr-only",children:"Username"}),Object(y.jsx)(Y.a.Control,{type:"text",placeholder:"Username",name:"username",value:O,onChange:D,className:Q.a.Input})]}),null===(e=v.username)||void 0===e?void 0:e.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),Object(y.jsxs)(Y.a.Group,{controlId:"password",children:[Object(y.jsx)(Y.a.Label,{className:"sr-only",children:"Password"}),Object(y.jsx)(Y.a.Control,{type:"password",placeholder:"Password",name:"password",value:p,onChange:D,className:Q.a.Input})]}),null===(t=v.password)||void 0===t?void 0:t.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),null===(a=v.non_field_errors)||void 0===a?void 0:a.map((function(e,t){return Object(y.jsx)(Z.a,{variant:"warning",children:e},t)})),Object(y.jsx)(G.a,{className:"".concat($.a.Button," ").concat($.a.Wide," ").concat($.a.Bright," fs-5"),type:"submit",children:"Sign In"})]})]}),Object(y.jsx)(o.a,{className:"mt-3 ".concat(u.a.Content),children:Object(y.jsxs)(h.b,{className:Q.a.Link,to:"/signup",children:["Don't have an account? ",Object(y.jsx)("span",{children:"Sign up now!"})]})})]}),Object(y.jsx)(M.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(Q.a.SignInCol),children:Object(y.jsx)(V.a,{className:"".concat(u.a.FillerImage),src:"https://plus.unsplash.com/premium_photo-1661382468438-c0ae70862f9b?q=80&w=3059&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"Motivational workspace"})})]})},ae=a(145),ne=a(139),ce=a(136),se=a(20),re=a.n(se);var ie=function(e){var t=e.task,a=e.updateState,n=e.deleteTask;return Object(y.jsx)(M.a,{md:6,lg:4,className:"mb-4",children:Object(y.jsx)(P.a,{className:"".concat(re.a.taskCard," ").concat("done"===t.state?re.a.done:""," shadow-sm border-start ").concat("high"===t.priority?"border-danger":"medium"===t.priority?"border-warning":"border-success"),children:Object(y.jsxs)(P.a.Body,{className:re.a.taskCardBody,children:[Object(y.jsxs)("div",{className:re.a.taskState,children:[Object(y.jsx)("i",{className:"fas fa-flag me-1 text-secondary"}),Object(y.jsx)("strong",{children:"State:"}),Object(y.jsx)(Y.a.Control,{as:"select",value:t.state,onChange:function(e){return a(t,e.target.value)},className:"mb-2",children:Object.entries({open:"Open",in_progress:"In Progress",done:"Done"}).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return Object(y.jsx)("option",{value:a,children:n},a)}))})]}),Object(y.jsxs)(h.b,{to:"/tasks/".concat(t.id),className:re.a.taskTitle,children:[Object(y.jsx)("i",{className:"fas fa-tasks me-2 text-primary"}),t.title]}),Object(y.jsx)(P.a.Text,{children:t.description}),Object(y.jsxs)(P.a.Text,{children:[Object(y.jsx)("i",{className:"fas fa-folder-open me-2 text-secondary"}),Object(y.jsx)("strong",{children:"Category:"})," ",t.category]}),Object(y.jsxs)(P.a.Text,{children:[Object(y.jsx)("i",{className:"fas fa-calendar-alt me-2 text-secondary"}),Object(y.jsx)("strong",{children:"Due:"})," ",t.due_date]}),Object(y.jsxs)(P.a.Text,{children:[Object(y.jsx)("i",{className:"fas fa-bolt me-2 text-secondary"}),Object(y.jsx)("strong",{children:"Priority:"})," ",Object(y.jsx)(ce.a,{bg:"high"===t.priority?"danger":"medium"===t.priority?"warning":"success",children:t.priority})]}),Object(y.jsxs)("div",{className:re.a.taskCardFooter,children:[Object(y.jsxs)(h.b,{to:"/tasks/".concat(t.id,"/edit"),className:"btn btn-sm btn-outline-primary",children:[Object(y.jsx)("i",{className:"fas fa-edit me-1"}),"Edit"]}),Object(y.jsxs)(G.a,{variant:"outline-danger",size:"sm",onClick:function(){return n(t.id)},children:[Object(y.jsx)("i",{className:"fas fa-trash-alt me-1"}),"Delete"]})]})]})})})};var oe=function(e){var t=e.task,a=e.deleteTask;return Object(y.jsx)(M.a,{md:6,lg:4,className:"mb-4",children:Object(y.jsx)(P.a,{className:"".concat(re.a.completedCard," shadow-sm"),children:Object(y.jsxs)(P.a.Body,{children:[Object(y.jsxs)(P.a.Title,{className:re.a.completedCardTitle,children:[Object(y.jsx)("i",{className:"fas fa-check-double me-2 text-success"}),t.title]}),Object(y.jsx)(P.a.Text,{children:t.description}),Object(y.jsxs)(P.a.Text,{children:[Object(y.jsx)("i",{className:"fas fa-folder-open me-2 text-secondary"}),Object(y.jsx)("strong",{children:"Category:"})," ",t.category]}),Object(y.jsxs)(P.a.Text,{children:[Object(y.jsx)("i",{className:"fas fa-calendar-check me-2 text-secondary"}),Object(y.jsx)("strong",{children:"Completed:"})," ",t.due_date]}),Object(y.jsxs)(P.a.Text,{children:[Object(y.jsx)("i",{className:"fas fa-star me-2 text-warning"}),Object(y.jsx)("strong",{children:"Priority:"})," ",Object(y.jsx)(ce.a,{bg:"high"===t.priority?"danger":"medium"===t.priority?"warning":"success",children:t.priority})]}),Object(y.jsx)("div",{className:re.a.completedCardFooter,children:Object(y.jsxs)(G.a,{size:"sm",variant:"outline-danger",onClick:function(){return a(t.id)},children:[Object(y.jsx)("i",{className:"fas fa-trash-alt me-1"}),"Delete"]})})]})})})},le=a(48),ue=a(137);var de=function(e){var t=e.total,a=e.currentPage,n=e.setCurrentPage,c=e.tasksPerPage,s=Math.ceil(t/c);return s<=1?null:Object(y.jsx)("div",{className:"d-flex justify-content-center my-3",children:Object(y.jsx)(ue.a,{children:Object(le.a)(Array(s).keys()).map((function(e){return Object(y.jsx)(G.a,{variant:a===e+1?"primary":"outline-primary",onClick:function(){return n(e+1)},children:e+1},e)}))})})};var je=function(e){var t=e.categories,a=e.selectedCategory,n=e.setSelectedCategory;return Object(y.jsx)(ue.a,{className:"mb-4 d-flex flex-wrap justify-content-center",children:t.map((function(e){return Object(y.jsxs)(G.a,{variant:e===a?"primary":"outline-primary",onClick:function(){return n(e)},className:"m-1",children:[Object(y.jsx)("i",{className:"fas fa-tag me-1"})," ",e.charAt(0).toUpperCase()+e.slice(1)," "]},e)}))})};var be=function(){var e=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(x.a)(s,2),i=r[0],o=r[1];Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("/api/tasks/");case 3:t=e.sent,a=t.data.results,c(a),o(["all"].concat(Object(le.a)(new Set(a.map((function(e){return e.category})))))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching tasks:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var l=function(){var e=Object(j.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this task?")){e.next=10;break}return e.prev=1,e.next=4,k.delete("/api/tasks/".concat(t,"/"));case 4:c((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("Error deleting task:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(j.a)(Object(d.a)().mark((function e(t,a){var n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Date(t.due_date).toISOString(),e.next=4,k.put("/api/tasks/".concat(t.id,"/"),Object(I.a)(Object(I.a)({},t),{},{due_date:n,state:a}));case 4:c((function(e){return e.map((function(e){return e.id===t.id?Object(I.a)(Object(I.a)({},e),{},{state:a}):e}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error updating task state:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}();return{tasks:a,setTasks:c,categories:i,deleteTask:l,updateTaskState:u,filterAndSortTasks:function(e){var t=e.selectedCategory,n=e.searchTerm,c=e.sortBy;return a.filter((function(e){return"all"===t||e.category===t})).filter((function(e){return"".concat(e.title," ").concat(e.description).toLowerCase().includes(n.toLowerCase())})).sort((function(e,t){if("due_date"===c)return new Date(e.due_date)-new Date(t.due_date);var a={high:1,medium:2,low:3};return a[e.priority]-a[t.priority]}))},groupTasks:function(e){var t=new Date,a=new Date;a.setDate(t.getDate()+7);var n=[],c=[],s=[];return e.forEach((function(e){var r=new Date(e.due_date);r.toDateString()===t.toDateString()?n.push(e):r<=a?c.push(e):s.push(e)})),{todayTasks:n,weekTasks:c,laterTasks:s}}}}(),t=e.tasks,a=e.categories,c=e.deleteTask,s=e.updateTaskState,r=e.filterAndSortTasks,i=e.groupTasks,l=Object(n.useState)("all"),u=Object(x.a)(l,2),b=u[0],O=u[1],p=Object(n.useState)(""),m=Object(x.a)(p,2),f=m[0],v=m[1],g=Object(n.useState)("due_date"),N=Object(x.a)(g,2),_=N[0],S=N[1],w=Object(n.useState)(1),C=Object(x.a)(w,2),T=C[0],D=C[1],L=r({selectedCategory:b,searchTerm:f,sortBy:_}),B=L.filter((function(e){return"done"===e.state})),F=i(L.filter((function(e){return"done"!==e.state}))),A=F.todayTasks,P=F.weekTasks,G=F.laterTasks,W=function(e){var t=6*(T-1);return e.slice(t,t+6)},U=t.length>0?Math.round(t.filter((function(e){return"done"===e.state})).length/t.length*100):0;return Object(y.jsxs)(o.a,{children:[Object(y.jsxs)("h2",{className:"my-4 text-center",children:[Object(y.jsx)("i",{className:"fas fa-clipboard-list me-2"}),"Your Tasks"]}),Object(y.jsx)("div",{className:re.a.progressWrapper,children:Object(y.jsx)(ae.a,{now:U,label:"".concat(U,"% Complete")})}),Object(y.jsx)("div",{className:"text-end mb-3",children:Object(y.jsxs)(h.b,{to:"/tasks/create",className:"btn btn-success",children:[Object(y.jsx)("i",{className:"fas fa-plus-circle me-1"})," New Task"]})}),Object(y.jsxs)(E.a,{className:"mb-3 align-items-center g-2",children:[Object(y.jsx)(M.a,{md:8,children:Object(y.jsx)(Y.a.Control,{type:"text",placeholder:"\ud83d\udd0d Search tasks...",value:f,onChange:function(e){return v(e.target.value)}})}),Object(y.jsx)(M.a,{md:4,children:Object(y.jsxs)(ne.a,{onSelect:function(e){return S(e)},children:[Object(y.jsxs)(ne.a.Toggle,{variant:"secondary",className:"w-100",children:[Object(y.jsx)("i",{className:"fas fa-sort me-1"}),"Sort by: ","due_date"===_?"Due Date":"Priority"]}),Object(y.jsxs)(ne.a.Menu,{children:[Object(y.jsx)(ne.a.Item,{eventKey:"due_date",children:"Due Date"}),Object(y.jsx)(ne.a.Item,{eventKey:"priority",children:"Priority"})]})]})})]}),Object(y.jsx)(je,{categories:a,selectedCategory:b,setSelectedCategory:O}),[{title:"Today",icon:"calendar-day",color:"info",tasks:A},{title:"This Week",icon:"calendar-week",color:"warning",tasks:P},{title:"Later",icon:"calendar-plus",color:"secondary",tasks:G}].map((function(e){var t=e.title,a=e.icon,n=e.color,r=e.tasks;return Object(y.jsxs)("section",{children:[Object(y.jsxs)("h4",{className:"mt-4 ".concat(re.a.sectionTitle),children:[Object(y.jsx)("i",{className:"fas fa-".concat(a," me-2 text-").concat(n)}),t]}),Object(y.jsx)(E.a,{children:W(r).length?W(r).map((function(e){return Object(y.jsx)(ie,{task:e,updateState:s,deleteTask:c},e.id)})):Object(y.jsxs)("p",{children:["No tasks due ",t.toLowerCase(),"."]})}),Object(y.jsx)(de,{total:r.length,currentPage:T,setCurrentPage:D,tasksPerPage:6})]},t)})),Object(y.jsxs)("section",{className:re.a.completedSection,children:[Object(y.jsxs)("h4",{className:"mt-4 ".concat(re.a.sectionTitle),children:[Object(y.jsx)("i",{className:"fas fa-check-circle me-2 text-success"}),"Completed"]}),Object(y.jsx)(E.a,{children:W(B).length?W(B).map((function(e){return Object(y.jsx)(oe,{task:e,deleteTask:c},e.id)})):Object(y.jsx)("p",{children:"No completed tasks."})}),Object(y.jsx)(de,{total:B.length,currentPage:T,setCurrentPage:D,tasksPerPage:6})]})]})},Oe={PRIORITIES:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],STATES:[{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"done",label:"Done"},{value:"overdue",label:"Overdue"}],CATEGORIES:[{value:"work",label:"Work"},{value:"personal",label:"Personal"},{value:"fitness",label:"Fitness"},{value:"finance",label:"Finance"},{value:"misc",label:"Miscellaneous"}]},pe=function(e){var t,a=e.label,n=e.options,c=e.selected,s=e.onSelect,r=e.controlId,i=e.disabled,o=void 0!==i&&i;return Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:r,children:[Object(y.jsx)(Y.a.Label,{children:a}),Object(y.jsxs)(ne.a,{onSelect:o?void 0:s,children:[Object(y.jsx)(ne.a.Toggle,{variant:"secondary",disabled:o,children:(null===(t=n.find((function(e){return e.value===c})))||void 0===t?void 0:t.label)||"Select"}),!o&&Object(y.jsx)(ne.a.Menu,{children:n.map((function(e){var t=e.value,a=e.label;return Object(y.jsx)(ne.a.Item,{eventKey:t,children:a},t)}))})]})]})};var me=function(e){var t=e.formData,a=e.handleChange,n=e.handleSelect,c=e.handleSubmit,s=e.getMinDate,r=e.isEditMode,i=e.readOnly,o=void 0!==i&&i;return Object(y.jsxs)(Y.a,{onSubmit:c,children:[Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"title",children:[Object(y.jsx)(Y.a.Label,{children:"Title"}),Object(y.jsx)(Y.a.Control,{type:"text",name:"title",value:t.title,onChange:o?void 0:a,readOnly:o,required:!0})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"description",children:[Object(y.jsx)(Y.a.Label,{children:"Description"}),Object(y.jsx)(Y.a.Control,{as:"textarea",rows:3,name:"description",value:t.description,onChange:o?void 0:a,readOnly:o})]}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"due_date",children:[Object(y.jsx)(Y.a.Label,{children:"Due Date"}),Object(y.jsx)(Y.a.Control,{type:"date",name:"due_date",value:t.due_date||"",onChange:o?void 0:a,readOnly:o,min:s?s():(new Date).toISOString().split("T")[0],required:!0})]}),Object(y.jsx)(pe,{label:"Priority",options:Oe.PRIORITIES,selected:t.priority,onSelect:o?void 0:function(e){return n("priority")(e)},controlId:"priority",disabled:o}),Object(y.jsx)(pe,{label:"State",options:Oe.STATES,selected:t.state,onSelect:o?void 0:function(e){return n("state")(e)},controlId:"state",disabled:o}),Object(y.jsx)(pe,{label:"Category",options:Oe.CATEGORIES,selected:t.category,onSelect:o?void 0:function(e){return n("category")(e)},controlId:"category",disabled:o}),!o&&Object(y.jsx)(G.a,{variant:"primary",type:"submit",children:r?"Update Task":"Create Task"})]})},he=function(e,t){var a=Object(n.useState)({title:"",description:"",due_date:"",priority:"medium",state:"open",category:"misc",notes:""}),c=Object(x.a)(a,2),s=c[0],r=c[1],i=function(){var a=Object(j.a)(Object(d.a)().mark((function a(n){var c;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,c=Object(I.a)(Object(I.a)({},s),{},{due_date:s.due_date?new Date(s.due_date).toISOString():null}),a.next=5,k.put("/api/tasks/".concat(e,"/"),c);case 5:t.push("/tasks"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),alert("Failed to update task");case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return{formData:s,setFormData:r,handleChange:function(e){var t=e.target,a=t.name,n=t.value;return r((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(K.a)({},a,n))}))},handleSelect:function(e){return function(t){return r((function(a){return Object(I.a)(Object(I.a)({},a),{},Object(K.a)({},e,t))}))}},handleSubmit:i,getMinDate:function(){return(new Date).toISOString().slice(0,10)}}},xe=a(23),fe=a.n(xe);var ve=function(e){var t=e.note;return Object(y.jsx)(P.a,{className:fe.a.noteCard,children:Object(y.jsxs)(P.a.Body,{children:[Object(y.jsxs)(P.a.Text,{children:[Object(y.jsx)("i",{className:"fas fa-sticky-note me-2 text-primary"}),t.body]}),Object(y.jsxs)("small",{className:fe.a.timestamp,children:[Object(y.jsx)("i",{className:"fas fa-clock me-1"}),new Date(t.date_added||t.created_at).toLocaleString()]})]})})},ge=a(56),ke=a.n(ge);var Ne=function(){var e=Object(i.i)().id,t=Object(i.g)(),a=he(e,t),c=a.formData,s=a.setFormData,r=a.getMinDate,l=Object(n.useState)([]),u=Object(x.a)(l,2),b=u[0],O=u[1],p=Object(n.useState)(""),m=Object(x.a)(p,2),h=m[0],f=m[1],v=Object(n.useCallback)(Object(j.a)(Object(d.a)().mark((function t(){var a,n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/api/tasks/".concat(e,"/"));case 3:a=t.sent,n=a.data,s({title:n.title,description:n.description,due_date:new Date(n.due_date).toISOString().slice(0,10),priority:n.priority,state:n.state,category:n.category,notes:""}),O(n.notes||[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),f("Failed to load task.");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e,s]);Object(n.useEffect)((function(){v()}),[v]);var g=function(){var a=Object(j.a)(Object(d.a)().mark((function a(){return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.confirm("Are you sure you want to delete this task?")){a.next=10;break}return a.prev=1,a.next=4,k.delete("/api/tasks/".concat(e,"/"));case 4:t.push("/tasks"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),alert("Failed to delete task.");case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(){return a.apply(this,arguments)}}();return Object(y.jsxs)(o.a,{className:"my-4",children:[Object(y.jsx)("h2",{className:ke.a.taskTitle,children:"Task Detail"}),h&&Object(y.jsx)("p",{className:"text-danger",children:h}),Object(y.jsx)("div",{className:ke.a.taskFormWrapper,children:Object(y.jsx)(me,{formData:c,readOnly:!0,getMinDate:r})}),Object(y.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-3 ".concat(ke.a.buttonGroup),children:[Object(y.jsx)(G.a,{variant:"secondary",onClick:function(){return t.push("/tasks")},children:"Back to Tasks"}),Object(y.jsx)(G.a,{variant:"primary",onClick:function(){return t.push("/tasks/".concat(e,"/edit"))},children:"Edit Task"}),Object(y.jsx)(G.a,{variant:"danger",onClick:g,children:"Delete Task"})]}),Object(y.jsx)("h4",{className:"mt-5",children:"Notes"}),Object(y.jsx)("div",{className:ke.a.notesSection,children:0===b.length?Object(y.jsx)("p",{className:"text-muted",children:"No notes for this task."}):Object(y.jsx)("div",{className:"d-flex flex-column gap-3",children:b.map((function(e){return Object(y.jsx)(ve,{note:e},e.id)}))})})]})},ye=a(90),_e=a.n(ye);var Se=function(){var e=function(e){var t=c.a.useState({title:"",description:"",due_date:"",priority:"medium",state:"open",category:"misc",notes:""}),a=Object(x.a)(t,2),n=a[0],s=a[1],r=function(){var t=Object(j.a)(Object(d.a)().mark((function t(a){var c;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,c=Object(I.a)(Object(I.a)({},n),{},{due_date:n.due_date?new Date(n.due_date).toISOString():null}),t.next=5,k.post("/api/tasks/",c);case 5:e.push("/tasks"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),alert("Failed to create task");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return{formData:n,setFormData:s,handleChange:function(e){var t=e.target,a=t.name,n=t.value;return s((function(e){return Object(I.a)(Object(I.a)({},e),{},Object(K.a)({},a,n))}))},handleSelect:function(e){return function(t){return s((function(a){return Object(I.a)(Object(I.a)({},a),{},Object(K.a)({},e,t))}))}},handleSubmit:r,getMinDate:function(){return(new Date).toISOString().slice(0,10)}}}(Object(i.g)()),t=e.formData,a=e.handleChange,n=e.handleSelect,s=e.handleSubmit,r=e.getMinDate;return Object(y.jsx)("div",{className:_e.a.taskCreateWrapper,children:Object(y.jsx)(me,{formData:t,handleChange:a,handleSelect:n,handleSubmit:s,getMinDate:r,isEditMode:!1})})},we=a(146),Ce=a(140),Te=function(e){var t=e.show,a=e.onHide,n=e.onConfirm,c=e.error;return Object(y.jsxs)(Ce.a,{show:t,onHide:a,centered:!0,children:[Object(y.jsx)(Ce.a.Header,{closeButton:!0,children:Object(y.jsx)(Ce.a.Title,{children:"Confirm Delete"})}),Object(y.jsxs)(Ce.a.Body,{children:["Are you sure you want to delete this item?",c&&Object(y.jsx)("div",{className:"text-danger mt-2",children:c})]}),Object(y.jsxs)(Ce.a.Footer,{children:[Object(y.jsx)(G.a,{variant:"secondary",onClick:a,children:"Cancel"}),Object(y.jsx)(G.a,{variant:"danger",onClick:n,children:"Delete"})]})]})};function De(e){if(!e)return"";var t=new Date(e);if(isNaN(t.getTime()))return"";var a=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),c=t.getDate().toString().padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(c)}var Le=function(){return(new Date).toISOString().slice(0,10)};var Ie=function(){var e=Object(i.i)().id,t=Number(e),a=Object(i.g)(),c=he(e,a),s=c.formData,r=c.setFormData,l=c.handleChange,u=c.handleSelect,b=c.handleSubmit,O=Object(n.useState)([]),p=Object(x.a)(O,2),m=p[0],h=p[1],f=Object(n.useState)(null),v=Object(x.a)(f,2),g=v[0],N=v[1],_=Object(n.useState)(""),S=Object(x.a)(_,2),w=S[0],C=S[1],T=Object(n.useState)(!1),D=Object(x.a)(T,2),L=D[0],B=D[1],F=Object(n.useState)(null),A=Object(x.a)(F,2),E=A[0],M=A[1],P=Object(n.useState)(""),W=Object(x.a)(P,2),U=W[0],z=W[1],H=Object(n.useCallback)(Object(j.a)(Object(d.a)().mark((function t(){var a,n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/api/tasks/".concat(e,"/"));case 3:a=t.sent,n=a.data,r({title:n.title,description:n.description,due_date:De(n.due_date),priority:n.priority,state:n.state,category:n.category,notes:""}),h(n.notes||[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert("Failed to fetch task and notes");case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e,r]);Object(n.useEffect)((function(){H()}),[H]);var R=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){var a,n,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.notes.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,k.post("/api/notes/",{task:t,body:a});case 6:n=e.sent,c=n.data,h((function(e){return[].concat(Object(le.a)(e),[c])})),r((function(e){return Object(I.a)(Object(I.a)({},e),{},{notes:""})})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),alert("Failed to add note");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.delete("/api/notes/".concat(E,"/"));case 3:h((function(e){return e.filter((function(e){return e.id!==E}))})),B(!1),M(null),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),z("Failed to delete note."),B(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.put("/api/notes/".concat(g,"/"),{task:t,body:w});case 3:h((function(e){return e.map((function(e){return e.id===g?Object(I.a)(Object(I.a)({},e),{},{body:w}):e}))})),N(null),C(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Failed to update note");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(o.a,{className:"my-4",children:[Object(y.jsx)("h2",{children:"Edit Task"}),Object(y.jsx)(me,{formData:s,handleChange:l,handleSelect:u,handleSubmit:b,getMinDate:Le,isEditMode:!0}),Object(y.jsx)("h4",{className:"mt-4",children:"Notes"}),Object(y.jsxs)(Y.a.Group,{className:"mb-3",controlId:"notes",children:[Object(y.jsx)(Y.a.Label,{children:"Add a Note"}),Object(y.jsx)(Y.a.Control,{as:"textarea",rows:2,name:"notes",value:s.notes,onChange:l}),Object(y.jsx)(G.a,{className:"mt-2",onClick:R,children:"Add Note"})]}),Object(y.jsx)(we.a,{children:m.map((function(e){return Object(y.jsx)(we.a.Item,{children:g===e.id?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Y.a.Control,{as:"textarea",rows:2,value:w,onChange:function(e){return C(e.target.value)}}),Object(y.jsxs)("div",{className:"mt-2 text-end",children:[Object(y.jsx)(G.a,{variant:"success",size:"sm",className:"me-2",onClick:K,children:"Save"}),Object(y.jsx)(G.a,{variant:"secondary",size:"sm",onClick:function(){return N(null)},children:"Cancel"})]})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:e.body}),Object(y.jsxs)("div",{className:"text-end mt-2",children:[Object(y.jsx)(G.a,{variant:"outline-primary",size:"sm",className:"me-2",onClick:function(){return t=e.id,a=e.body,N(t),void C(a);var t,a},children:"Edit"}),Object(y.jsx)(G.a,{variant:"outline-danger",size:"sm",onClick:function(){M(e.id),B(!0)},children:"Delete"})]})]})},e.id)}))}),Object(y.jsx)(Te,{show:L,onHide:function(){return B(!1)},onConfirm:q,error:U})]})},Be=a(138),Fe=function(){var e=Object(n.useState)([]),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),r=Object(x.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(null),u=Object(x.a)(l,2),b=u[0],O=u[1];return Object(n.useEffect)((function(){var e=!0,t=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a,n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/api/notes/");case 3:a=t.sent,n=a.data.results||a.data,e&&(c(n),o(!1),O(null)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e&&(O("Failed to load notes. Please try again later."),o(!1));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[]),{notes:a,setNotes:c,loading:i,error:b,setError:O}};var Ae=function(e){var t=e.note;return Object(y.jsx)(P.a,{className:fe.a.noteCard,role:"article",tabIndex:"0",children:Object(y.jsxs)(P.a.Body,{className:"d-flex flex-column justify-content-between",children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)(P.a.Title,{className:fe.a.noteTitle,children:[Object(y.jsx)("i",{className:"fas fa-sticky-note me-2 text-primary"}),Object(y.jsx)(h.b,{to:"/notes/".concat(t.id),className:fe.a.noteLink,children:t.body.length>80?t.body.substring(0,80)+"...":t.body})]}),Object(y.jsxs)(P.a.Text,{className:"text-muted d-flex align-items-center",children:[Object(y.jsx)("i",{className:"fas fa-tasks me-2"}),Object(y.jsx)(h.b,{to:"/tasks/".concat(t.task.id),className:fe.a.taskLink,children:t.task.title})]})]}),Object(y.jsxs)("small",{className:fe.a.timestamp,children:[Object(y.jsx)("i",{className:"fas fa-clock me-1"}),new Date(t.date_added).toLocaleString()]})]})})};var Ee=function(){var e=Fe(),t=e.notes,a=e.loading,n=e.error;return a?Object(y.jsxs)(o.a,{className:"text-center mt-5",children:[Object(y.jsx)(Be.a,{animation:"border"}),Object(y.jsx)("p",{children:"Loading notes..."})]}):Object(y.jsxs)(o.a,{className:fe.a.noteListContainer,children:[Object(y.jsxs)("div",{className:fe.a.headerRow,children:[Object(y.jsxs)("h2",{className:fe.a.pageTitle,children:[Object(y.jsx)("i",{className:"fas fa-sticky-note me-2"}),"Notes"]}),Object(y.jsxs)(G.a,{className:fe.a.addNoteButton,as:h.b,to:"/notes/create",variant:"primary",children:[Object(y.jsx)("i",{className:"fas fa-plus me-2"})," Add Note"]})]}),n&&Object(y.jsx)(Z.a,{variant:"danger",children:n}),0===t.length?Object(y.jsx)("p",{className:fe.a.noNotesText,children:"No notes found. Start by adding one!"}):Object(y.jsx)(E.a,{xs:1,sm:2,md:3,lg:4,className:"g-4",children:t.map((function(e){return Object(y.jsx)(M.a,{children:Object(y.jsx)(Ae,{note:e})},e.id)}))})]})},Me=a(91),Pe=a.n(Me);var Ge=function(){var e=Object(i.i)().id,t=Object(n.useState)(null),a=Object(x.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!0),l=Object(x.a)(r,2),u=l[0],b=l[1],O=Object(n.useState)(null),p=Object(x.a)(O,2),m=p[0],f=p[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a,n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/api/notes/".concat(e,"/"));case 3:a=t.sent,n=a.data,s(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),f("Failed to fetch note.");case 11:return t.prev=11,b(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),u?Object(y.jsxs)(o.a,{className:"text-center my-4","aria-live":"polite",children:[Object(y.jsx)(Be.a,{animation:"border",role:"status","aria-label":"Loading note"}),Object(y.jsx)("p",{children:"Loading note..."})]}):m?Object(y.jsx)(o.a,{className:"my-4","aria-live":"polite",children:Object(y.jsx)("p",{className:"text-danger",children:m})}):c?Object(y.jsx)(o.a,{className:Pe.a.noteDetailWrapper,children:Object(y.jsx)(P.a,{children:Object(y.jsxs)(P.a.Body,{children:[Object(y.jsxs)(P.a.Title,{children:["Note on:"," ",c.task?Object(y.jsx)(h.b,{to:"/tasks/".concat(c.task.id),"aria-label":"Go to task: ".concat(c.task.title),children:c.task.title}):"Unknown Task"]}),Object(y.jsx)(P.a.Text,{children:c.body}),Object(y.jsx)("hr",{}),Object(y.jsxs)("p",{children:[Object(y.jsx)("strong",{children:"Date Added:"})," ",new Date(c.date_added).toLocaleString()]}),Object(y.jsxs)("p",{children:[Object(y.jsx)("strong",{children:"Last Updated:"})," ",new Date(c.date_updated).toLocaleString()]}),Object(y.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(y.jsx)(h.b,{to:"/notes/".concat(e,"/edit"),className:"btn btn-primary","aria-label":"Edit this note",children:"Edit Note"}),Object(y.jsx)(h.b,{to:"/notes/".concat(e,"/delete"),className:"btn btn-danger","aria-label":"Delete this note",children:"Delete Note"})]})]})})}):Object(y.jsx)(o.a,{className:"my-4",children:Object(y.jsx)("p",{children:"Note not found."})})};var We=function(e){var t=e.initialBody,a=void 0===t?"":t,c=e.initialTask,s=void 0===c?"":c,r=e.tasks,i=void 0===r?[]:r,o=e.onSubmit,l=e.submitLabel,u=void 0===l?"Submit":l,d=Object(n.useState)(a),j=Object(x.a)(d,2),b=j[0],O=j[1],p=Object(n.useState)(s),m=Object(x.a)(p,2),h=m[0],f=m[1],v=Object(n.useState)(null),g=Object(x.a)(v,2),k=g[0],N=g[1];return Object(n.useEffect)((function(){O(a),f(s)}),[a,s]),Object(y.jsxs)(Y.a,{onSubmit:function(e){e.preventDefault(),h&&b?(N(null),o({task:h,body:b})):N("Both fields are required.")},children:[k&&Object(y.jsx)("p",{className:"text-danger",children:k}),Object(y.jsxs)(Y.a.Group,{controlId:"task",className:"mb-3",children:[Object(y.jsx)(Y.a.Label,{children:"Task"}),Object(y.jsxs)(Y.a.Control,{as:"select",value:h,onChange:function(e){return f(e.target.value)},required:!0,children:[Object(y.jsx)("option",{value:"",children:"Select a task"}),i.map((function(e){return Object(y.jsx)("option",{value:e.id,children:e.title},e.id)}))]})]}),Object(y.jsxs)(Y.a.Group,{controlId:"body",className:"mb-3",children:[Object(y.jsx)(Y.a.Label,{children:"Note Body"}),Object(y.jsx)(Y.a.Control,{as:"textarea",rows:5,value:b,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(y.jsx)(G.a,{type:"submit",children:u})]})},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(""),i=Object(x.a)(r,2),o=i[0],l=i[1],u=Object(n.useState)([]),b=Object(x.a)(u,2),O=b[0],p=b[1],m=Object(n.useState)(null),h=Object(x.a)(m,2),f=h[0],v=h[1],g=Object(n.useState)(null),N=Object(x.a)(g,2),y=N[0],_=N[1],S=Object(n.useState)(!1),w=Object(x.a)(S,2),C=w[0],T=w[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a,n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/api/tasks/");case 3:a=t.sent,n=a.data,p(n.results),!e&&n.results.length>0&&l(n.results[0].id.toString()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),v({task:"Failed to load tasks."});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(n.useEffect)((function(){if(e){T(!0);var t=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a,n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/api/notes/".concat(e,"/"));case 3:a=t.sent,n=a.data,s(n.body),l(n.task.id.toString()),v(null),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),v({fetch:"Failed to load note."});case 13:return t.prev=13,T(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(){return t.apply(this,arguments)}}();t()}}),[e]),Object(n.useEffect)((function(){if(y){var e=setTimeout((function(){return _(null)}),2e3);return function(){return clearTimeout(e)}}}),[y]),{body:c,setBody:s,selectedTask:o,setSelectedTask:l,tasks:O,errors:f,setErrors:v,successMessage:y,setSuccessMessage:_,loading:C}};var ze=function(){var e=Object(i.g)(),t=Ue(),a=t.tasks,n=t.errors,c=t.setErrors,s=t.successMessage,r=t.setSuccessMessage,l=t.loading,u=function(){var t=Object(j.a)(Object(d.a)().mark((function t(a){var n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.post("/api/notes/",a);case 3:r("Note created successfully!"),c(null),setTimeout((function(){return e.push("/tasks/".concat(a.task))}),1500),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),c({submit:"Failed to create note. Please try again."}),r(null),console.error((null===(n=t.t0.response)||void 0===n?void 0:n.data)||t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)(o.a,{className:"my-4",children:[Object(y.jsx)("h2",{children:"Add Note"}),(null===n||void 0===n?void 0:n.submit)&&Object(y.jsx)(Z.a,{variant:"danger",children:n.submit}),s&&Object(y.jsx)(Z.a,{variant:"success",children:s}),Object(y.jsx)(We,{tasks:a,onSubmit:u,submitLabel:"Add Note",error:null===n||void 0===n?void 0:n.form,successMessage:s,loading:l})]})};var He=function(){var e=Object(i.i)().id,t=Object(i.g)(),a=Ue(e),c=a.body,s=a.selectedTask,r=a.tasks,l=a.errors,u=a.setErrors,b=a.loading,O=Object(n.useState)(null),p=Object(x.a)(O,2),m=p[0],h=p[1],f=function(){var a=Object(j.a)(Object(d.a)().mark((function a(n){var c,s,r;return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.task,s=n.body,a.prev=1,a.next=4,k.put("/api/notes/".concat(e,"/"),{task:c,body:s});case 4:h("Note updated successfully!"),u(null),setTimeout((function(){return t.push("/tasks/".concat(c))}),1500),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(1),u({body:"Failed to update note."}),h(null),console.error((null===(r=a.t0.response)||void 0===r?void 0:r.data)||a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}();return Object(y.jsxs)(o.a,{className:"my-4",children:[Object(y.jsx)("h2",{children:"Edit Note"}),l&&l.body&&Object(y.jsx)(Z.a,{variant:"danger",children:l.body}),m&&Object(y.jsx)(Z.a,{variant:"success",children:m}),Object(y.jsx)(We,{initialBody:c,initialTask:s,tasks:r,errors:l,onSubmit:f,loading:b,successMessage:m,submitLabel:"Update Note"})]})};var Re=function(){var e=Object(i.i)().id,t=Object(i.g)(),a=Object(n.useState)(null),c=Object(x.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(null),u=Object(x.a)(l,2),b=u[0],O=u[1];Object(n.useEffect)((function(){var t=function(){var t=Object(j.a)(Object(d.a)().mark((function t(){var a,n;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.get("/api/notes/".concat(e,"/"));case 3:a=t.sent,n=a.data,O(n.task.id),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r("Failed to load note.");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var p=function(){var a=Object(j.a)(Object(d.a)().mark((function a(){return Object(d.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.delete("/api/notes/".concat(e,"/"));case 3:b?t.push("/tasks/".concat(b)):t.push("/notes"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),r("Failed to delete note.");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}();return Object(y.jsxs)(o.a,{className:"my-4",children:[Object(y.jsx)("h2",{children:"Delete Note"}),s&&Object(y.jsx)(Z.a,{variant:"danger",children:s}),Object(y.jsx)("p",{children:"Are you sure you want to delete this note?"}),Object(y.jsx)(G.a,{variant:"danger",onClick:p,className:"me-2",children:"Delete"}),Object(y.jsx)(G.a,{variant:"secondary",onClick:function(){return t.goBack()},children:"Cancel"})]})},qe=a(43),Ke=a.n(qe);var Ye=function(){var e=Object(n.useState)({subject:"",message:""}),t=Object(x.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),r=Object(x.a)(s,2),i=r[0],l=r[1],u=Object(n.useState)(null),b=Object(x.a)(u,2),O=b[0],p=b[1],m=Object(n.useState)(null),h=Object(x.a)(m,2),f=h[0],v=h[1],g=function(e){c((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(K.a)({},e.target.name,e.target.value))}))},N=function(){var e=Object(j.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),p(null),v(null),e.prev=4,e.next=7,k.post("/api/contact/",a);case 7:c({subject:"",message:""}),v("Message sent!"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),p("Failed to send message.");case 15:return e.prev=15,l(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(o.a,{className:Ke.a.contactContainer,children:Object(y.jsx)(E.a,{className:"justify-content-center",children:Object(y.jsxs)(M.a,{md:8,lg:6,children:[Object(y.jsx)("h2",{className:Ke.a.contactTitle,children:"Get in Touch"}),O&&Object(y.jsx)("div",{className:Ke.a.errorMessage,children:O}),f&&Object(y.jsx)("div",{className:Ke.a.successMessage,children:f}),Object(y.jsxs)(Y.a,{onSubmit:N,children:[Object(y.jsxs)(Y.a.Group,{controlId:"contactSubject",className:Ke.a.formGroup,children:[Object(y.jsx)(Y.a.Label,{children:"Subject"}),Object(y.jsx)(Y.a.Control,{type:"text",name:"subject",value:a.subject,onChange:g,placeholder:"Enter subject",required:!0})]}),Object(y.jsxs)(Y.a.Group,{controlId:"contactMessage",className:"".concat(Ke.a.formGroup," mt-3"),children:[Object(y.jsx)(Y.a.Label,{children:"Message"}),Object(y.jsx)(Y.a.Control,{as:"textarea",name:"message",rows:5,value:a.message,onChange:g,placeholder:"Write your message here...",required:!0})]}),Object(y.jsx)(G.a,{variant:"primary",type:"submit",className:Ke.a.submitButton,disabled:i,children:i?"Sending...":"Send Message"})]})]})})})};var Ze=function(){var e=w(),t="/"===Object(i.h)().pathname&&!e;return Object(n.useEffect)((function(){document.body.classList.toggle("no-scroll",t)}),[t]),Object(y.jsxs)("div",{className:u.a.App,children:[Object(y.jsx)(L,{}),t?Object(y.jsx)(U,{}):Object(y.jsx)(o.a,{className:u.a.Main,children:Object(y.jsxs)(i.d,{children:[Object(y.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(y.jsx)(q,{})}}),Object(y.jsx)(A,{exact:!0,path:"/tasks",component:be}),Object(y.jsx)(A,{exact:!0,path:"/tasks/create",component:Se}),Object(y.jsx)(A,{exact:!0,path:"/tasks/:id",component:Ne}),Object(y.jsx)(A,{exact:!0,path:"/tasks/:id/edit",component:Ie}),Object(y.jsx)(A,{exact:!0,path:"/notes",component:Ee}),Object(y.jsx)(A,{exact:!0,path:"/notes/create",component:ze}),Object(y.jsx)(A,{exact:!0,path:"/notes/:id",component:Ge}),Object(y.jsx)(A,{exact:!0,path:"/notes/:id/edit",component:He}),Object(y.jsx)(A,{exact:!0,path:"/notes/:id/delete",component:Re}),Object(y.jsx)(A,{exact:!0,path:"/contact",component:Ye}),Object(y.jsx)(i.b,{exact:!0,path:"/signin",component:te}),Object(y.jsx)(i.b,{exact:!0,path:"/signup",component:ee}),Object(y.jsx)(i.b,{render:function(){return Object(y.jsx)("p",{children:"Page not found!"})}})]})})]})},Ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,147)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(h.a,{children:Object(y.jsx)(T,{children:Object(y.jsx)(Ze,{})})})}),document.getElementById("root")),Ve()},15:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",brand:"NavBar_brand__2HFCD",brandText:"NavBar_brandText__2xHQK",navLinks:"NavBar_navLinks__3K4gu",navLink:"NavBar_navLink__BI2C_",Active:"NavBar_Active__3PBZb"}},20:function(e,t,a){e.exports={progressWrapper:"TaskList_progressWrapper__3ZXYN",sectionTitle:"TaskList_sectionTitle__6lh3P",completedSection:"TaskList_completedSection__2Ysmv",taskCardFooter:"TaskList_taskCardFooter__LcXR_"}},21:function(e,t,a){e.exports={Row:"SignInUpForm_Row__3PbVy",Container:"SignInUpForm_Container__2cuBp",SignInCol:"SignInUpForm_SignInCol__3ImPK",SignUpCol:"SignInUpForm_SignUpCol__28o4y",Header:"SignInUpForm_Header__3joQJ",Input:"SignInUpForm_Input__3xaLZ",Link:"SignInUpForm_Link__1BeMm"}},22:function(e,t,a){e.exports={dashboardWrapper:"Dashboard_dashboardWrapper__3q2IY",dashboardHeader:"Dashboard_dashboardHeader__35_nL",title:"Dashboard_title__3N-_V",subtitle:"Dashboard_subtitle__2LZzb",statsSection:"Dashboard_statsSection__27CLu",statCard:"Dashboard_statCard__2Ifjf",icon:"Dashboard_icon__5qMpu",actionsPanel:"Dashboard_actionsPanel__3Cx9n",buttonGroup:"Dashboard_buttonGroup__2RJJt",primaryBtn:"Dashboard_primaryBtn__2C5kK",secondaryBtn:"Dashboard_secondaryBtn__zgkcB"}},23:function(e,t,a){e.exports={noteListContainer:"NoteList_noteListContainer__8cxtl",headerRow:"NoteList_headerRow__b76tV",pageTitle:"NoteList_pageTitle__3UidE",addNoteButton:"NoteList_addNoteButton__1Oevy",noNotesText:"NoteList_noNotesText__kDnCA",noteCard:"NoteList_noteCard__1mhK4",noteTitle:"NoteList_noteTitle__8l0s_",noteLink:"NoteList_noteLink__Lfjp4",taskLink:"NoteList_taskLink__18Ihu",timestamp:"NoteList_timestamp__2IUSA"}},33:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr",Card:"App_Card__1lafX",FillerImage:"App_FillerImage__2ob-g",FullImage:"App_FullImage__39jm0",FittedImage:"App_FittedImage__1xlNt","sr-only":"App_sr-only__NXiKO","sr-accessible":"App_sr-accessible__2QVrI","no-scroll":"App_no-scroll__12kh4"}},42:function(e,t,a){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",Blue:"Button_Blue__10GcT",BlueOutline:"Button_BlueOutline__YqCWO",Black:"Button_Black__2dCp7",BlackOutline:"Button_BlackOutline__I-kZ-",Bright:"Button_Bright__1MBHR"}},43:function(e,t,a){e.exports={contactContainer:"ContactForm_contactContainer__2nlyc",contactTitle:"ContactForm_contactTitle__1kjVK",formGroup:"ContactForm_formGroup__34uR0",submitButton:"ContactForm_submitButton__3nI4p",successMessage:"ContactForm_successMessage__1iIH1",errorMessage:"ContactForm_errorMessage__3o4ik"}},56:function(e,t,a){e.exports={taskTitle:"TaskDetail_taskTitle__3z53_",taskFormWrapper:"TaskDetail_taskFormWrapper__1bluJ",notesSection:"TaskDetail_notesSection__3li8K",buttonGroup:"TaskDetail_buttonGroup__14XiO"}},90:function(e,t,a){e.exports={taskCreateWrapper:"TaskCreate_taskCreateWrapper__2QSGI"}},91:function(e,t,a){e.exports={noteDetailWrapper:"NoteDetail_noteDetailWrapper__S8gHZ",btn:"NoteDetail_btn__2hll4"}},96:function(e,t,a){}},[[128,1,2]]]);
//# sourceMappingURL=main.3aeb8359.chunk.js.map